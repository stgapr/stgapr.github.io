<!DOCTYPE html>
<html>
  <head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#33363b">
    <meta name="msapplication-TileColor" content="#33363b">
    
    
    
    
    <meta name="keywords" content="Life, Tech, Galgame, Anime, Manga, Programming, Harmonica, Novel, Guitar, Cooking">
    
    
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
    
    
    <link rel="icon" type="image/png" sizes="192x192" href="/favicons/android-chrome-192x192.png">
    
    
    <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
    
    
    <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
    
    
    <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#33363b">
    
    
    <link rel="manifest" href="/favicons/site.webmanifest">
    
    
    <meta name="msapplication-config" content="/favicons/browserconfig.xml">
    
    
    <link rel="alternate" href="/atom.xml" title="水与榕" type="application/atom+xml">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicons/favicon.ico">
    
    
    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="/css/index.css">
    
    <link rel="stylesheet" type="text/css" href="/css/sidebar.css">
    
    
<link rel="stylesheet" type="text/css" href="/css/page.css">
<link rel="stylesheet" type="text/css" href="/css/post.css">

    <link rel="stylesheet" type="text/css" href="/css/custom.css">
    <link rel="stylesheet" type="text/css" href="/css/atom-one-dark.css">
    <link rel="stylesheet" type="text/css" href="/css/lightgallery.min.css">
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script defer type="text/javascript" src="/js/util.js"></script>
    <script defer type="text/javascript" src="/js/scrollspy.js"></script>
    <script defer type="text/javascript" src="/js/fontawesome-all.min.js"></script>
    <script defer type="text/javascript" src="/js/lightgallery.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-fullscreen.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-hash.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-pager.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-thumbnail.min.js"></script>
    <script defer type="text/javascript" src="/js/lg-zoom.min.js"></script>
    
    <script defer src="/js/busuanzi.pure.mini.js"></script>
    
    
    <script defer type="text/javascript" src="/js/search.js"></script>
    <script type="text/javascript">
    $(document).ready(function () {
      var searchPath = "search.xml";
      if (searchPath.length === 0) {
        searchPath = "search.xml";
      }
      var path = "/" + searchPath;
      searchFunc(path, "search-input", "search-result");
    });
    </script>
    
    
    <script defer type="text/javascript" src="/js/index.js"></script>
    
    <script defer type="text/javascript" src="/js/custom.js"></script>
    <title>小而美的字帖应用——《田农汉帖》开发日志 | 水与榕</title>
  </head>
  <body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN" data-spy="scroll" data-target=".list-group">
    
<header id="header" class="header" style="background: #33363b;">
  <div class="container">
    <div class="header-container">
      <div class="header-title">
        <h1 class="title"><a href="/">水与榕</a></h1>
        <h2 class="subtitle"></h2>
      </div>
      
    </div>
    <nav id="nav" class="nav">
      <a id="nav-toggle" class="nav-toggle" aria-hidden="true"><i class="fas fa-bars" aria-label="Toggle Navbar"></i></a>
      <ul id="menu" role="menubar" aria-hidden="false">
        
        <li role="menuitem"><a href="/">Home</a></li>
        
        <li role="menuitem"><a href="/archives/">Archives</a></li>
        
        <li role="menuitem"><a href="/categories/">Categories</a></li>
        
        <li role="menuitem"><a href="/tags/">Tags</a></li>
        
        <li role="menuitem"><a href="/about/">About</a></li>
        
      </ul>
    </nav>
  </div>
</header>


    <main id="main" class="main">
      <div class="container">
        <div class="main-container">
          <div class="content">
            
<div id="post" class="page">
  
  <article class="article post card animate" itemscope="" itemtype="http://schema.org/Article">
    <div class="post-block">
      <link itemprop="mainEntityOfPage" href="https://stgapr.github.io/post/tiannong-copybook/">
      <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
       <meta itemprop="name" content="桃乱扔">
       <meta itemprop="description" content="">
       <meta itemprop="image" content="/images/avatar.png">
      </span>
      <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
       <meta itemprop="name" content="水与榕">
      </span>
    </div>
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">小而美的字帖应用——《田农汉帖》开发日志</h1>
      <div class="post-meta">
        
        <span class="post-date">
          <i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2019-11-09T20:51:01+08:00">2019-11-09 20:51:01</time></span>
        </span>
        
        
        
        <span class="post-meta-divider divider">|</span>
        
        <span class="post-categories">
          
          <i class="far fa-folder-open"></i><span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/笔记/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a></span>
        </span>
        
        
        
        
      </div>
    </header>
    <main class="post-main" itemprop="articleBody">
      <p>有一天我那个喜欢书法的大舅问我说，怎样在电脑上把印刷体弄成颜体？仔细询问目的后得知他想要一款能在平板电脑上用的能自定义字体、内容并生成字帖的软件。我闲得蛋疼，就自嗨写了一个《田农汉帖》<br><a id="more"></a><br>在线使用 <a href="http://tiannong.gitee.io/hantie/" target="_blank" rel="noopener">田农汉帖</a><br>源代码： <a href="https://gitee.com/tiannong/hantie" target="_blank" rel="noopener">gitee:tiannong/hantie</a></p>
<p>首先声明我真的不懂编程，甚至不会写javascript，对设计模式、开发之类更是一窍不通，只会复制粘贴，所以下面的内容没什么太大价值。总的来说只有一句话要说，就是软件开发不仅是技术活，也是个艺术活。</p>
<p>那我就啰嗦地讲下这个应用方方面面的摸索开发过程。</p>
<h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2><h3 id="确定需求"><a href="#确定需求" class="headerlink" title="确定需求"></a>确定需求</h3><p>首先从确定需求开始。很简单，就是整一个能生成字帖的工具。大概是田字格那种字帖，上面写一些诗词之类。反正至少得自定义内容。自定义字体。</p>
<h3 id="同类应用对比"><a href="#同类应用对比" class="headerlink" title="同类应用对比"></a>同类应用对比</h3><p>然后就想上网看下现成的在线字帖工具是怎样的。哎呀，中文互联网真是乱七八糟，还要微信登录，广告满天飘。于是赶紧去App Store看了一眼，其实上架的字帖app不算少，功能也很完善，能想到的内购内容人家也都想到了。有的甚至还支持临摹。那我做的这玩意儿有什么用，不是重复造轮子吗？</p>
<h3 id="技术选型"><a href="#技术选型" class="headerlink" title="技术选型"></a>技术选型</h3><p>考虑到我写的这一坨代码的第一名用户他有一个平板电脑（不清楚具体型号），也不方便问是什么操作系统，并且 我不打算为不同操作系统单独写app，何况万一以后还会在PC上用这个软件，所以还是偷懒用HTML5。HTML5有一个好特性就是canvas。</p>
<p>编程目标是小、简洁美观、轻量化，确保在512MB内存的古董机子上也能跑， 所以找来找去用了MDUI——一个Material Design风格的超轻量级响应式高性能前端界面库。这玩意组件全面，不依赖第三方库<del>而且编码门槛低</del>。</p>
<p>俗话说天下代码一大抄（并不），接着去Github上找了一圈，有一个很简陋的字帖生成器原型，很好，就是在canvas上渲染的。单HTML文件，代码量不到两百行，最后效果居然还不错。就拿这个改了。</p>
<h3 id="界面设计和交互逻辑"><a href="#界面设计和交互逻辑" class="headerlink" title="界面设计和交互逻辑"></a>界面设计和交互逻辑</h3><p>既然用了Material Design的前端库，那照着Ehviewer抄吧。反正都长差不多。MDUI的组件真的很丰富，就是徒眼看元素缩进有点晕。<br>第一版的设计是，左边一个抽屉。分成“设置”、“生成字帖”两个按钮。在设置界面调整各种参数，录入文字，然后在”生成字帖“观看效果。但这样的交互其实很麻烦：为什么还要再点回去才能看到最终的字帖生成效果？（还要忍受抽屉的伸缩动画）为什么不能实时地修改？<br>所以后面改了一版，弄了个Tab，第一个Tab是各种排版微调设置，第二个Tab就是效果预览。虽然做不到实时预览效果，但好歹只要点一下就能看到最终效果。这样抽屉就空下来了，那就放一个“关于”吧，写一些作者信息，开源组件许可证，捐助链接之类的。</p>
<p>对了，因为没有后端，也就没有渲染模板引擎来处理路径，总不可能a href吧？况且也没有后端程序来在页面间传递参数。我们尽量在一个html文件里面用js来引值传值，设置style。所以抽屉标签页的切换就是通过以下代码完成的：</p>
<p><code></code></p>
<p>function show_home() {<br>​    var home_content = document.getElementById(“home_content”)<br>​    var about_content = document.getElementById(“about_content”)<br>​    about_content.style.display = “none”;<br>​    home_content.style.display = “block”;<br>}</p>
<p><code></code></p>
<p>The hack works。不优雅但是有效够用。</p>
<h3 id="Less-is-more"><a href="#Less-is-more" class="headerlink" title="Less is more"></a>Less is more</h3><p>一开始不能设计太多功能——比如分享到朋友圈——这些玩意儿要额外引入和native API交互的东西。但目前最应该做的是完成20%的核心需求，循序渐进地把最重要的部分写完，再去考虑剩下的扩展功能。</p>
<p>前期应该做的事情：</p>
<ul>
<li>熟悉前端框架的组件用法</li>
<li>弄清楚canvas的渲染流程</li>
<li>一点点增添功能，比如格子样式，字号，字体更换</li>
</ul>
<p>前期阶段不应该做的事情：</p>
<ul>
<li>忙着添加各种自定义纸张质感而忽略了主要功能的开发</li>
<li>着手对其他CJK语言的支持</li>
<li>整些没用的功能例如用户登录、分享到朋友圈/微信/微博 </li>
<li>太早写开发文档自嗨</li>
</ul>
<p>这些功能要么会引入累赘的模块让代码复杂性成倍上升，要么会引发著作权/法律问题，或者让自己挖太大的坑而失去填坑的热情。</p>
<h3 id="canvas的那些坑"><a href="#canvas的那些坑" class="headerlink" title="canvas的那些坑"></a>canvas的那些坑</h3><p>上面说过了核心代码就是往canvas上渲染东西。就是循环读取每一个汉字，然后计算坐标，画很多canvas来绘制底格和汉字（确保缩放时不会错位）<br>至于字体，可以通过如下方法指定给canvas：<br><code></code><br>@font-face {<br>  font-family: “myFont”;<br>  src: url(“./custom.ttf”);<br>}</p>
<p>const cvs = document.querySelector(‘canvas’)<br>const ctx = cvs.getContext(‘2d’)<br>context.font = ‘30px myFont’<br>ctx.fillText(‘测试文本’, 50, 50)<br><code></code><br>每次修改排版设置后，通过按钮的onclick事件call函数来销毁掉所有canvas（注意是直接销毁上次绘制字帖时动态生成的element，不是仅仅擦除画布），再重新开始绘制。简单粗暴。</p>
<p>其实自己本来也想做临摹功能，估计就是接收屏幕触摸事件，在canvas绘制轨迹；搞不好还能做成软笔效果（就像华为手机上的手写输入法的那种笔锋），不过心想这不是给自己挖坑吗，我还得写一大套起落笔算法。虽然之前参与过的画板项目myPaint有现成的软笔笔锋算法。但多一事不如少一事……</p>
<p>还有一个坑是在绘制纸张纹理时，发现怎么死活都画不到canvas上。后来把代码改成这样，等image load结束后再绘制就正常了：</p>
<p><code>ground_texture.onload = function() {
const pattern = ctx.createPattern(ground_texture, &quot;repeat&quot;);
ctx.fillStyle = pattern;
}</code><br>类似地，字体加载也有这个问题，见下。</p>
<h3 id="字体加载和缓存"><a href="#字体加载和缓存" class="headerlink" title="字体加载和缓存"></a>字体加载和缓存</h3><p>大部分浏览器，字体是懒加载的，在@font-face中声明了字体并不意味着下载此字体，只有在使用了这个字体，浏览器才会下载。</p>
<p>对于DOM+CSS来说没有问题，因为页面可以先显示默认的字体，当自定义字体加载完成后，页面自动呈现新字体。但是对canvas来说就不行了，因为在绘制的时候自定义字体还未加载完，那么绘制到画布会使用的默认字体，等自定义字体加载完，画布是不会自动更换像素的。</p>
<p>网络上找了一下有一个类似异步的document.fonts.ready写法，然后发现可以用<a href="https://developer.mozilla.org/en-US/docs/Web/API/FontFace/FontFace" target="_blank" rel="noopener">FontFace</a>，等加载完毕后再回调canvas绘制。</p>
<p><code>const myFont = new FontFace(&#39;myFont&#39;, &#39;url(./custom.ttf)&#39;)
myFont.load().then(font =&gt; { document.fonts.add(font)}).then(() =&gt; {....})</code></p>
<p>这些接口在不同浏览器引擎支持程度不一样，最差的当然是IE，当Safari也好不到哪里去。Edge也不咋样。不过Android 的Webview倒是对这个特性支持不错。<br>在等待的时间里还可以通过显示剩余时间不可预测的进度条（就像Windows设置界面里的用户登录迟缓进度条一样）让使用者对字体资源的加载情形有个数。<br>之后浏览器应该会形成font cache，无需重复加载了。但我试了一下发现有时候过太久还是要重新加载，国内这网络环境少说也得十秒钟，体验不大好（就算有progress bar）。</p>
<h3 id="字体的版权和繁简问题"><a href="#字体的版权和繁简问题" class="headerlink" title="字体的版权和繁简问题"></a>字体的版权和繁简问题</h3><p>由于大部分字体是需要授权的商业字体，稍有不慎容易引发律师函。所以在字体的选择上，应该找那些对个人/家庭使用免费授权的，或者是开源字体（注意 开源≠随便用≠免费）。<br>字体使用上的规矩还很复杂，比如说把微软雅黑打印出来给人看合不合法呢？拿来做企业的宣传广告合不合法呢？预载到打印机上合不合法呢？私下拷贝、流通合不合法呢？草，我为什么要研究这个。根据微软的<a href="https://docs.microsoft.com/zh-cn/typography/fonts/font-faq" target="_blank" rel="noopener">《字体限制常见问答》</a>和苹果的<a href="https://images.apple.com/legal/sla/docs/macOS1013.pdf" target="_blank" rel="noopener">《macOS许可协议》</a>来看，情况还很多，还涉及字体作为“软件”和“美术作品” 的不同定义的问题，需要自行反复理解。</p>
<p>网络上找到一段解释：</p>
<blockquote>
<p>由于许可证主要禁止将字体「嵌入」到当前系统以外的网页或软件中，只需要弄清楚「嵌入」的概念即可。也就是说如果你使用了某种字体的文件在传输时，使得对方无论是否安装了该字体都能显示出相同的效果，那么说明你「嵌入」了这一字体。因此，在网页设计中通过样式表（CSS）的 font-family 字段指定特定字体并不构成「嵌入」，因为这只是告知客户端尝试调用其本机安装的该字体来渲染页面；如果用户没有安装任何指定的字体，则只会显示出浏览器和/或操作系统规定的某种回退（fallback）字体。类似地，在 app 中指定系统内建的某个字体、由操作系统在运行时从系统资源库中调用，也不构成「嵌入」。相反，如果你将字体文件拷贝到自己的网页服务器上或 app 的资源文件中，然后在代码中直接调用这些字体文件本身，哪怕是原封不动地用着系统内建的字体，也是违反协议的。</p>
</blockquote>
<p>谁能想到，浓眉大眼的微软雅黑居然也不能乱用……总之一句话，考虑到潜在风险，最好不要用操作系统自带字体。</p>
<p>好在有很多别的选择。目前向个人用户免费开放字体（有条件）的有方正字库、汉仪字体、新蒂字体、文悦。里面印刷体手写体都有。记得阅读许可协议，确定自己的行为没有违反字体授权。不然对方法务部门可不是闹着玩的。<br>最后选定的是这几款：</p>
<ul>
<li>方正柳公权楷书</li>
<li>方正字迹-书体坊勤礼碑颜体-简</li>
<li>汉仪新蒂文徵明体</li>
<li>汉仪程行简</li>
<li>汉仪颜楷W</li>
</ul>
<p>众所周知Google Fonts被墙了很久，国外其他服务在中国大陆也很不稳定。方正、汉仪的云字库还要注册，太麻烦了。一个原则就是：要在断网的时候也能用。</p>
<h3 id="其他小细节和质感提升"><a href="#其他小细节和质感提升" class="headerlink" title="其他小细节和质感提升"></a>其他小细节和质感提升</h3><p>首先是配色。MDUI自带了一套主题配色方案，考虑了强调色、对比度。基本不用人操心，只需要用mdui-theme-开头的一系列类就完事了。主题配色的那一段html我直接从MDUI官网抄过来的。默认界面可以古朴端庄一些，考虑到这是一个字帖App，可以用浅灰-鹅黄，宫红-墨黑这种，深灰不可以看起来不吉利。反正明度一定要低，不能有太廉价的塑料味儿。至于字帖的字体颜色和田字格配色就别用默认的工业配色盘了，可以从“中国传统色”里面选。</p>
<p>另外界面字体可以换方正标雅宋：严肃中带着端庄，简洁不失秀丽，一看就有国学味儿——不认识方正标雅宋的请自行打开学〇强国App观摩一下。 宋刻本字体配Google的Material Design有一种中西结合、跨越千年的木刻纹路和冰冷屏幕碰撞的奇妙质感。</p>
<p>另外快捷方式图标可以用GIMP或者Inkscape绘制一下——美工工具链当然也得用开源的。注意icon的字体的版权。放进HTML的head里。这样添加到桌面/主屏幕 就有漂亮的图标了。（咕咕咕中）</p>
<p><code></code></p>
<p><link rel="shortcut icon" href="图标地址" type="image/x-icon"></p>
<p><link rel="icon" href="图标地址" type="image/x-icon"><br><code></code></p>
<p>打开时应该留着上次的设置。这个可以用localStorage做到（130KB）</p>
<p>此外，有的字体是简体输入显示成繁体，有的必须是繁体才能显示繁体。里面的字符集门道我也不熟，我猜可以用openCC，在检测到使用繁-繁字体时自动把原文的简体字部分转成繁体；但这种情况很少，就不做这功能了。</p>
<p>本来还觉得安卓滑来滑去的动画效果不够庄重，但懒得改了……</p>
<h3 id="内购点假想"><a href="#内购点假想" class="headerlink" title="内购点假想"></a>内购点假想</h3><p>虽然这个应用目前是自娱自乐的，不过还是假想了一下它的付费卖点。</p>
<p>App要让用户付费，最关键的就是让人觉得”我需要这个东西“ ”钱值这个功能“。功能不光指是实用性，还可以是品味、或者人为制造的稀缺性。 这些都在营销教程里讲烂的。这个字帖应用可能设计成内购的地方，比如某些高级的配色/纸张纹理质感，其实没什么卵用，但看上去很漂亮，很中国风，很衬托正统中华方块儿字的灵动气韵，很有国学味，用户就想买。</p>
<p>附加值首页可以弄个“每日字帖”，推送诗词，说得好像买了就有毅力每天在手机上一边欣赏书法一边积累背诵诗词似的。</p>
<p>那还有没别的内购点？比如导出成图片格式（便于打印后临摹）的功能也可以收费，当然懂行的用户会按Ctrl+P，或者screenshot。为此有必要提供一个空心字选项，还好canvas直接就有strokeText()函数。一行代码搞定。</p>
<h2 id="版本迭代和后续维护"><a href="#版本迭代和后续维护" class="headerlink" title="版本迭代和后续维护"></a>版本迭代和后续维护</h2><p>web页面的更新很简单，本地调试好了之后直接推送到服务器上即可。（什么webpack，没听说过）<br>整个程序，包括js、img不到100K。但几个字体加起来就有50M了。</p>
<p>要桌面版或者安卓版，也可以用Electron，node-webkit，QtWebEngine之类打一个包。反正就是浏览器壳里面塞一个webview，（直接用HBuilder之类就行，不用下一个安卓开发全家桶）。iOS就算了，没钱交开发者年费……</p>

    </main>
    <footer class="post-footer">
      
      <div class="post-tags">
        
        <a class="post-tag button" href="/tags/编程/" rel="tag"><i class="fas fa-tags"></i>编程</a>
        
        <a class="post-tag button" href="/tags/技术/" rel="tag"><i class="fas fa-tags"></i>技术</a>
        
        <a class="post-tag button" href="/tags/软件开发/" rel="tag"><i class="fas fa-tags"></i>软件开发</a>
        
      </div>
      
    </footer>
  </article>
  
  
  <nav class="page-nav">
    <div class="page-nav-next page-nav-item">
      
      <a href="/post/tenkinoko/" rel="next" title="天气之子"><i class="fas fa-angle-left"></i><span class="nav-title">天气之子</span></a>
      
    </div>
    <div class="page-nav-prev page-nav-item">
      
      <a href="/post/read-2019-11/" rel="prev" title="2019年11月阅读书目"><span class="nav-title">2019年11月阅读书目</span><i class="fas fa-angle-right"></i></a>
      
    </div>
  </nav>
  
  
  

<div class="comments" id="comments">

<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<div id="gitalk-container"></div>
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: 'fc5cc78006347ed7f2b8',
        clientSecret: 'eb4cc326feb2418f9add0833f57adbe9e423fb43',
        id: window.location.pathname,
        repo: 'lilis',
        owner: 'stgapr',
        admin: 'stgapr'
    })
    gitalk.render('gitalk-container')
</script>


</div>



  
</div>

          </div>
          
          
          
<aside class="sidebar" id="sidebar" style="background: url(/images/background.png);">
  
  <div class="search">
    <div class="form-group">
      <i class="fas fa-search"></i><input type="search" id="search-input" name="q" results="0" placeholder="Search" class="form-control">
    </div>
  </div>
  <div class="search-result-box" id="search-result"></div>
  
  
<div class="info sidebar-item" id="info">
  
  <img class="author-avatar" src="/images/avatar.png" alt="桃乱扔">
  
  <h1 class="author-name">桃乱扔</h1>
  <h2 class="author-description"></h2>
  <div class="site-count">
    
    <div class="archives-count">
      <div class="site-count-title">Archives</div>
      <div><a href="/archives/">92</a></div>
    </div>
    
    
    
    <span class="site-count-divider divider">|</span>
    
    <div class="categories-count">
      <div class="site-count-title">Categories</div>
      <div><a href="/categories/">4</a></div>
    </div>
    
    
    
    <span class="site-count-divider divider">|</span>
    
    <div class="tags-count">
      <div class="site-count-title">Tags</div>
      <div><a href="/tags/">93</a></div>
    </div>
    
  </div>
  
  <div class="rss">
    <a class="rss-link button sidebar-item" href="/atom.xml"><i class="fas fa-rss"></i>RSS</a>
  </div>
  
</div>


  <div class="sidebar-sticky">
    
    
    
    
    
    <hr>
    <div class="post-toc sidebar-item" id="toc-div">
      <div><i class="fas fa-list-ol"></i>Table of Contents</div>
      <div class="post-toc-content"><ol class="list-group toc"><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#前期准备"><span class="toc-text">前期准备</span></a><ol class="list-group toc-child"><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#确定需求"><span class="toc-text">确定需求</span></a></li><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#同类应用对比"><span class="toc-text">同类应用对比</span></a></li><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#技术选型"><span class="toc-text">技术选型</span></a></li><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#界面设计和交互逻辑"><span class="toc-text">界面设计和交互逻辑</span></a></li><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#Less-is-more"><span class="toc-text">Less is more</span></a></li><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#canvas的那些坑"><span class="toc-text">canvas的那些坑</span></a></li><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#字体加载和缓存"><span class="toc-text">字体加载和缓存</span></a></li><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#字体的版权和繁简问题"><span class="toc-text">字体的版权和繁简问题</span></a></li><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#其他小细节和质感提升"><span class="toc-text">其他小细节和质感提升</span></a></li><li class="toc-item toc-level-3"><a class="list-group-item toc-link" href="#内购点假想"><span class="toc-text">内购点假想</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#版本迭代和后续维护"><span class="toc-text">版本迭代和后续维护</span></a></li></ol></div>
    </div>
    
    
    
    <hr>
    <div class="social-link sidebar-item">
      <div><i class="far fa-address-card"></i>Social Links<p></p></div>
      <ul>
        
        <li><i class="fas fa-envelope"></i><a href="mailto:stgapr29@gmail.com" target="_blank">Email</a></li>
        
        <li><i class="fab fa-github"></i><a href="https://github.com/stgapr" target="_blank">Github</a></li>
        
        <li><i class="fab fa-github"></i><a href="https://weibo.com/6219139265" target="_blank">Weibo</a></li>
        
      </ul>
    </div>
    
    
    <hr>
    <div class="blogroll sidebar-item">
      <div><i class="fas fa-link"></i>Blogroll</div>
      <ul>
        
        <li><a href="https://yuukoamamiya.github.io/" target="_blank">雨宫优子</a></li>
        
        <li><a href="https://plumz.me/" target="_blank">plum</a></li>
        
        <li><a href="https://incises.github.io/" target="_blank">Incises</a></li>
        
        <li><a href="https://mistakey.top/" target="_blank">叶月辉夜</a></li>
        
        <li><a href="https://sh.alynx.moe" target="_blank">喵's StackHarbor</a></li>
        
        <li><a href="https://pockies.github.io/" target="_blank">Pockies</a></li>
        
        <li><a href="http://noodlefighter.com/" target="_blank">虾包</a></li>
        
        <li><a href="https://www.natech.top/" target="_blank">无聊人士的低语</a></li>
        
        <li><a href="https://linhai1990.com/" target="_blank">四海为家的兔子</a></li>
        
        <li><a href="https://touko.moe/" target="_blank">Touko</a></li>
        
        <li><a href="https://suzumiyashirone.github.io/" target="_blank">涼宮シロネ</a></li>
        
        <li><a href="https://www.gazyip.cn/" target="_blank">八个比特</a></li>
        
        <li><a href="https://zankyo.cc/" target="_blank">青花鱼</a></li>
        
        <li><a href="https://blog.uuz.moe/" target="_blank">雨宮千夏の博麗神社</a></li>
        
        <li><a href="https://luojia.me/" target="_blank">佳佳酱</a></li>
        
        <li><a href="https://lnet.me/" target="_blank">澜灯</a></li>
        
        <li><a href="https://taoxinhao.cn/" target="_blank">陶新昊</a></li>
        
        <li><a href="https://www.wikimoe.com/" target="_blank">WIKIMOE</a></li>
        
        <li><a href="http://www.misakas.com/" target="_blank">misakas</a></li>
        
        <li><a href="https://blog.ixk.me/" target="_blank">ixk.me</a></li>
        
        <li><a href="http://blog.dangodango.cn/" target="_blank">团子的小小世界</a></li>
        
        <li><a href="http://blog.9bie.org:8081/" target="_blank">⑨bie</a></li>
        
        <li><a href="https://utsuho.cn/" target="_blank">喵の空</a></li>
        
        <li><a href="https://www.rabbittu.com/" target="_blank">某兔子の御用花园</a></li>
        
        <li><a href="http://pea3nut.info/" target="_blank">花生PeA</a></li>
        
        <li><a href="http://www.iinorii.com/blog/" target="_blank">いつの間に</a></li>
        
        <li><a href="https://www.senayuki.top/" target="_blank">纷飞的小屋</a></li>
        
        <li><a href="http://whitebox.im/" target="_blank">白色箱子</a></li>
        
        <li><a href="http://code5light.com/" target="_blank">多事之秋</a></li>
        
        <li><a href="https://diygod.me/friends/" target="_blank">DIYGOD</a></li>
        
        <li><a href="https://ephen.me/" target="_blank">Ephen</a></li>
        
        <li><a href="https://ikk.me/" target="_blank">ikk.me</a></li>
        
        <li><a href="https://ikmoe.com/" target="_blank">月宅酱</a></li>
        
        <li><a href="https://www.rexskz.info/" target="_blank">ReX/Zeng</a></li>
        
        <li><a href="https://2heng.xin/" target="_blank">さくら荘の白猫</a></li>
        
        <li><a href="https://www.fczbl.vip/" target="_blank">犬's blog</a></li>
        
        <li><a href="https://aoaoao.me/" target="_blank">Aaron</a></li>
        
        <li><a href="https://blog.0xbbc.com/" target="_blank">3004</a></li>
        
        <li><a href="http://mouto.org/" target="_blank">卜卜口</a></li>
        
        <li><a href="https://wind.moe/links/" target="_blank">Windless</a></li>
        
        <li><a href="https://oao.moe/links/" target="_blank">oao</a></li>
        
        <li><a href="http://im.dimpurr.com/" target="_blank">钉子の次元</a></li>
        
        <li><a href="http://acgtyrant.com/" target="_blank">acgtyrant</a></li>
        
        <li><a href="https://asaba.sakuragawa.moe/" target="_blank">樱川浅羽</a></li>
        
        <li><a href="https://buta.moe/" target="_blank">Take Space</a></li>
        
        <li><a href="http://takumiyuki.hatenablog.com/" target="_blank">TakumiYuki</a></li>
        
        <li><a href="https://flandre-scarlet.moe/blog/" target="_blank">Re:memory</a></li>
        
      </ul>
    </div>
    
  </div>
</aside>


          
        </div>
      </div>
    </main>
    
<footer id="footer" class="footer" style="background: #33363b;">
  <div class="container">
    <div class="back-to-top">
      <button id="back-to-top"><i class="fas fa-angle-double-up" aria-label="Back to Top"></i></button>
    </div>
    <div class="footer-container">
      <div class="footer-left">
        <div class="copyright">
          <span class="author">桃乱扔</span><span class="year"><i class="far fa-copyright"></i>1993 - 2020</span>
        </div>
        
        <div class="busuanzi">
          <span id="busuanzi_container_site_pv"><i class="fas fa-eye" aria-label="Site Visit Count" aria-hidden="false"></i><span id="busuanzi_value_site_pv"></span></span><span id="busuanzi_container_site_uv"><i class="fas fa-user" aria-label="Site User Count" aria-hidden="false"></i><span id="busuanzi_value_site_uv"></span></span><span id="busuanzi_container_page_pv"><i class="far fa-file-alt"></i><span id="busuanzi_value_page_pv" aria-label="Page Click Count" aria-hidden="false"></span></span>
        </div>
        
      </div>
      <div class="footer-right">
        <div class="custom-info">
          
          底下啥都没有了~
          
        </div>
        <div class="powered-by">
          Proudly Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> | Theme is <a href="https://github.com/AlynxZhou/hexo-theme-aria/" target="_blank">ARIA</a>
        </div>
      </div>
    </div>
  </div>
</footer>


  </body>
</html>
